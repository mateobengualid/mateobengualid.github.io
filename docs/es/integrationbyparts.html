<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="es" xml:lang="es">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.433">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">
<title>Desvarios sobre el Calculo Malliavin – integrationbyparts</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for citations */
div.csl-bib-body { }
div.csl-entry {
  clear: both;
}
.hanging-indent div.csl-entry {
  margin-left:2em;
  text-indent:-2em;
}
div.csl-left-margin {
  min-width:2em;
  float:left;
}
div.csl-right-inline {
  margin-left:2em;
  padding-left:1em;
}
div.csl-indent {
  margin-left: 2em;
}</style>
<script src="site_libs/quarto-nav/quarto-nav.js"></script><script src="site_libs/quarto-nav/headroom.min.js"></script><script src="site_libs/clipboard/clipboard.min.js"></script><script src="site_libs/quarto-search/autocomplete.umd.js"></script><script src="site_libs/quarto-search/fuse.min.js"></script><script src="site_libs/quarto-search/quarto-search.js"></script><meta name="quarto:offset" content="./">
<link href="./measuretheory.html" rel="next">
<link href="./intro.html" rel="prev">
<script src="site_libs/quarto-html/quarto.js"></script><script src="site_libs/quarto-html/popper.min.js"></script><script src="site_libs/quarto-html/tippy.umd.min.js"></script><script src="site_libs/quarto-html/anchor.min.js"></script><link href="site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="site_libs/bootstrap/bootstrap.min.js"></script><link href="site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 20,
  "language": {
    "search-no-results-text": "Sin resultados",
    "search-matching-documents-text": "documentos encontrados",
    "search-copy-link-title": "Copiar el enlace en la búsqueda",
    "search-hide-matches-text": "Ocultar resultados adicionales",
    "search-more-match-text": "resultado adicional en este documento",
    "search-more-matches-text": "resultados adicionales en este documento",
    "search-clear-button-title": "Borrar",
    "search-detached-cancel-button-title": "Cancelar",
    "search-submit-button-title": "Enviar",
    "search-label": "Buscar"
  }
}</script><script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script><script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-chtml-full.js" type="text/javascript"></script><link rel="stylesheet" href="styles.css">
</head>
<body class="nav-sidebar docked nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top"><nav class="navbar navbar-expand-lg navbar-dark "><div class="navbar-container container-fluid">
      <div class="navbar-brand-container">
    <a class="navbar-brand" href="./index.html">
    <span class="navbar-title">Desvarios sobre el Calculo Malliavin</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Buscar"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" aria-expanded="false" aria-label="Navegación de palanca" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
<div class="dropdown" id="languages-links-parent">
<button class="btn btn-primary dropdown-toggle" type="button" data-bs-toggle="dropdown" aria-expanded="false" id="languages-button"><i class="bi bi-globe2"></i></button><ul class="dropdown-menu" id="languages-links"><li><a class="dropdown-item" href="https://mateobengualid.github.io/integrationbyparts.html" id="language-link-en">English</a></li></ul>
</div>
            <ul class="navbar-nav navbar-nav-scroll me-auto">
<li class="nav-item">
    <a class="nav-link" href="./index.html" rel="" target="">
 <span class="menu-text">Prefacio</span></a>
  </li>  
</ul>
<div class="quarto-navbar-tools ms-auto">
    <a href="https://x.com/one_twit_wonder/" rel="" title="" class="quarto-navigation-tool px-1" aria-label=""><i class="bi bi-twitter"></i></a>
    <div class="dropdown">
      <a href="" title="" id="quarto-navigation-tool-dropdown-0" class="quarto-navigation-tool dropdown-toggle px-1" data-bs-toggle="dropdown" aria-expanded="false" aria-label=""><i class="bi bi-github"></i></a>
      <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="quarto-navigation-tool-dropdown-0">
<li>
            <a class="dropdown-item quarto-navbar-tools ms-auto-item" href="https://github.com/mateobengualid/mateobengualid.github.io">
            Source Code
            </a>
          </li>
      </ul>
</div>
</div>
          </div> <!-- /navcollapse -->
      </div> <!-- /container-fluid -->
    </nav><nav class="quarto-secondary-nav"><div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="./integrationbyparts.html">Integración por Partes</a></li></ol></nav><a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Alternar barra lateral" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav></header><!-- content --><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation docked overflow-auto"><div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Buscar"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
<li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Introducción</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./integrationbyparts.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">Integración por Partes</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./measuretheory.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Teoría de la Medida</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./question.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">La pregunta</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./multidimensional.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Espacios vectoriales de dimensión infinita</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./cameronmartin.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Espacios de Cameron-Martin</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./malliavinderivative.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Derivada de Malliavin</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./clarkocone.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Aplicaciones y casos en profundidad</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="./summary.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Comentarios finales</span></a>
  </div>
</li>
    </ul>
</div>
</nav><div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        
    <div class="quarto-alternate-formats">
<h2>Otros formatos</h2>
<ul><li><a href="integrationbyparts.pdf"><i class="bi bi-file-pdf"></i>PDF</a></li></ul>
</div>
</div>
<!-- main -->
<main class="content" id="quarto-document-content"><section id="integración-por-partes" class="level1"><h1>Integración por Partes</h1>
<p>Empezamos este viaje hablando de un truco que podría interpretarse como el inverso de la regla del producto para las derivadas. Lo usaremos para describir una forma novedosa de resolver el problema de minimizar funciones. Finalmente, usando <span class="citation" data-cites="calculus_of_variations">Wikipedia contributors (<a href="#ref-calculus_of_variations" role="doc-biblioref">2023</a>)</span> como base, haremos un desarrollo clásico.</p>
<section id="esbozo-para-obtener-la-fórmula-de-integración-por-partes" class="level2"><h2 class="anchored" data-anchor-id="esbozo-para-obtener-la-fórmula-de-integración-por-partes">Esbozo para obtener la fórmula de integración por partes</h2>
<p>Usaremos el símbolo <span class="math inline">\('\)</span> para indicar la derivada con respecto a <span class="math inline">\(x\)</span>. Si sabés lo básico de cálculo diferencial, vas a recordar que:</p>
<p><span class="math display">\[
\left( f(x)g(x)\right)'=f'(x)g(x)+f(x)g'(x)
\]</span></p>
<p>Ahora, integrando a ambos lados:</p>
<p><span class="math display">\[
\begin{aligned}
\int\left( f(x)g(x)\right)'dx&amp;=\int f'(x)g(x)dx+\int f(x)g'(x)dx \\
f(x)g(x)&amp;=\int f'(x)g(x)dx+\int f(x)g'(x)dx
\end{aligned}
\]</span></p>
<p>Si renombramos <span class="math inline">\(u=f(x)\)</span> y <span class="math inline">\(dv = g'(x)dx\)</span>, entonces obtenemos las expresiones familiares para integrales definidas e indefinidas:</p>
<p><span class="math display">\[
\begin{aligned}
\int u\,dv &amp;= uv -\int v\,du \\
\int_a^b u\,dv &amp;= \left.{uv}\right|_a^b -\int_a^bv\,du
\end{aligned}
\]</span></p>
<p>Finalmente, imaginá que las funciones tienden a cero en los extremos <span class="math inline">\(a\)</span> y <span class="math inline">\(b\)</span>. Es decir, <span class="math inline">\(u(b)v(b)-u(a)v(a)=0\)</span>. En ese caso, se puede simplificar la expresión aún más:</p>
<p><span class="math display">\[
\int u\,dv = -\int v\,du
\]</span></p>
</section><section id="cálculo-de-variaciones" class="level2"><h2 class="anchored" data-anchor-id="cálculo-de-variaciones">Cálculo de variaciones</h2>
<p>El Cálculo Malliavin a veces se lo llama la extensión del cálculo de variaciones a procesos estocásticos. ¿Qué significa eso? Vamos a empezar por la primera parte.</p>
<section id="desarrollo-y-aplicación" class="level3"><h3 class="anchored" data-anchor-id="desarrollo-y-aplicación">Desarrollo y aplicación</h3>
<p>Voy a asumir que sabés lo más básico de cálculo diferencial e integral. Eso significa que podés resolver problemas como este: supongamos que tenemos una función <span class="math inline">\(f\)</span> y que queremos obtener el valor de <span class="math inline">\(x\)</span> donde <span class="math inline">\(f\)</span> alcanza su mínimo:</p>
<p><span class="math display">\[
\min{f(x)}=x^2-4x+5
\]</span></p>
<p>Para resolver esto, derivamos e igualamos a cero. Con esto, obtenemos el valor del argumento que minimiza la función.</p>
<p><span class="math display">\[
\begin{aligned}
f'(x)=2x-4 &amp;= 0 \\
2x &amp;= 4 \\
x &amp;= 2
\end{aligned}
\]</span></p>
<p>Esto significa que <span class="math inline">\(\min{f(x)}=f(2)=2^2-4*2+5=1\)</span>.</p>
<p>Este método funciona bien cuando se trata de minimizar el <strong>valor</strong> de una función sobre los números reales, <span class="math inline">\(f: \mathbb{R} \to \mathbb{R}\)</span>, o en general para funciones de más de una variable, <span class="math inline">\(f: \mathbb{R}^n \to \mathbb{R}\)</span>.</p>
<p>Pero digamos que lo que queremos encontrar es la <strong>función</strong> <span class="math inline">\(y=f(x)\)</span> que minimiza una expresión. No sabemos cómo es esa función, o no queremos imponer ideas preconcebidas como que sea un polinomio o una suma de pares de senos y cosenos. ¿Qué hacemos entonces?</p>
<p>A partir de ahora, entramos en piloto automático para cualquier curso en la materia (yo usaré como base el artículo de Wikipedia sobre el tema). El primer paso es definir una “función de funciones” como el punto de partida para la minimización, y esa función es esencialmente una integral como esta:</p>
<p><span class="math display">\[
J[y]=\int^{x_2}_{x_1} L(x,y,y')dx \\
\]</span></p>
<p>Para que todo sea menos abstracto, usaremos el ejemplo clásico de encontrar la función que representa la distancia más corta entre dos puntos, <span class="math inline">\(a\)</span> y <span class="math inline">\(b\)</span>. Empezando por el caso “de grano grueso” con deltas o intervalos, lo que queremos es minimizar la suma de todos los pequeños cambios en el camino entre esos dos puntos, usando el teorema de Pitágoras:</p>
<p><span class="math display">\[
\min\sum^n_{i=1}\sqrt{ (\Delta x_i)^2+(\Delta y_i)^2}
\]</span></p>
<p>A medida que los cambios se vuelven infinitesimales, y haciendo un abuso de notación, podemos cambiar de sumas a una integral y obtener una expresión para <span class="math inline">\(L\)</span>:</p>
<p><span class="math display">\[
\begin{aligned}
\int^{b}_{a} \sqrt{{dx}^2+{dy}^2}
&amp; = \int^{b}_{a} \sqrt{{(dx)}^2\left ( 1+\left({\frac{dy}{dx}}\right)^2\right)} \\
&amp; = \int^{b}_{a} \sqrt{1+(y')^2}\sqrt{(dx)^2} \\
&amp; = \int^{b}_{a} \sqrt{1+(y')^2}\,dx \\
&amp; = \int^{b}_{a}L(y')\,dx\\
\end{aligned}
\]</span></p>
<p>Ahora, introducimos una función genérica <span class="math inline">\(\eta(x)\)</span> que llamaremos la variación. Esta función representa una perturbación y el único requisito que le impondremos es que <span class="math inline">\(\eta(a)=\eta(b)=0\)</span>. Vamos a asumir que <span class="math inline">\(f(x)=y\)</span> es la solución y <span class="math inline">\(\eta\)</span> es la desviación que la función tiene con respecto a la solución. Además, podemos multiplicar la variación por un número pequeño <span class="math inline">\(\varepsilon\)</span>. Finalmente, podemos definir una función sobre <span class="math inline">\(\varepsilon\)</span>, <span class="math inline">\(\Phi(\varepsilon)= J[f + \varepsilon *\eta]\)</span>, de modo tal que <span class="math inline">\(\Phi(0)=f\)</span> termina siendo nuestra solución.</p>
<p>El truco es que, ahora, en vez de minimizar algo que depende de una función que no conocemos (y que ni siquiera podemos empezar a comprender), podemos minimizar algo que depende de un número, <span class="math inline">\(\varepsilon\)</span>. No solo eso, hemos construido <span class="math inline">\(\varepsilon\)</span> y <span class="math inline">\(\eta\)</span> para que sepamos de antemano que la función que estamos buscando, la solución, se encuentra en <span class="math inline">\(\Phi(\varepsilon=0)=J[f]\)</span>, y también que <span class="math inline">\(\Phi'(0)=0\)</span> porque esa función está en su mínimo. Una genialidad.</p>
<p><span class="math display">\[
\Phi'(0)=0=\left.\frac{d\Phi}{d\varepsilon}\right|_{\varepsilon=0}=\int^{b}_{a}\left. \frac{dL}{d\varepsilon}\right|_{\varepsilon=0} dx
\]</span></p>
<p>Tomamos la derivada total de <span class="math inline">\(\Phi\)</span> con respecto a <span class="math inline">\(\varepsilon\)</span>, como hicimos antes, pero ahora consideramos los cambios de variables <span class="math inline">\(y=f+\varepsilon\eta\)</span> y <span class="math inline">\(y'=f'+\varepsilon\eta'\)</span>:</p>
<p><span class="math display">\[
\begin{aligned}
\frac{dL}{d\varepsilon}
&amp; = \frac{\partial L}{\partial x}\underbrace{\frac{dx}{d\varepsilon}}_{=0} + \frac{\partial L}{\partial y}\underbrace{\frac{dy}{d\varepsilon}}_{=\eta} + \frac{\partial L}{\partial y'}\underbrace{\frac{dy'}{d\varepsilon}}_{=\eta'}\\
&amp; = \frac{\partial L}{\partial y}\eta + \frac{\partial L}{\partial y'}\eta'\\
\end{aligned}
\]</span></p>
<p>Esto parece no tener sentido, pero ahora viene la magia:</p>
<p><span class="math display">\[
\begin{aligned}
\int_{a}^{b} \left.\frac{dL}{d\varepsilon}\right|_{\varepsilon = 0} dx
&amp;  = \int_{a}^{b} \left(\frac{\partial L}{\partial f} \eta + \frac{\partial L}{\partial f'} \eta'\right)\, dx \\
&amp;  = \int_{a}^{b} \frac{\partial L}{\partial f} \eta \, dx + \underbrace{\left.\frac{\partial L}{\partial f'} \eta \right|_{a}^{b}}_{=0} - \int_{a}^{b} \eta \frac{d}{dx}\frac{\partial L}{\partial f'} \, dx \\
&amp;  = \int_{a}^{b} \left(\frac{\partial L}{\partial f} \eta - \eta \frac{d}{dx}\frac{\partial L}{\partial f'} \right)\, dx\\
0 &amp;= \int_{a}^{b} \eta (x) \left(\frac{\partial L}{\partial f} - \frac{d}{dx}\frac{\partial L}{\partial f'} \right) \, dx \\
\end{aligned}
\]</span></p>
<p>Empezamos obteniendo <span class="math inline">\(\Phi'(0)\)</span> e hicimos una <em>integración por partes</em>. Esto es crucial, sin ella nada de esto funciona. También sabemos que <span class="math inline">\(\eta(a)=\eta(b)=0\)</span>, entonces ese término se cancela. Uniendo términos y tomando un factor común, llegamos a nuestra conclusión. La última pieza de magia es darse cuenta que esa integral es cero, para cualquier función <span class="math inline">\(\eta(x)\)</span>. Por el Lema Fundamental del Cálculo de Variaciones, solo queda una posibilidad, y es tan importante que se llama la ecuación de Euler-Lagrange:</p>
<p><span class="math display">\[
\frac{\partial L}{\partial f} -\frac{d}{dx} \frac{\partial L}{\partial f'}=0
\]</span></p>
<p>Sea cual sea la función solución <span class="math inline">\(f\)</span>, debe cumplir esa condición.</p>
</section><section id="ejemplo-del-camino-más-corto" class="level3"><h3 class="anchored" data-anchor-id="ejemplo-del-camino-más-corto">Ejemplo del camino más corto</h3>
<p>¿Para qué nos sirve esto? Volvamos al caso del camino más corto entre dos puntos. Usaré en forma indistinta <span class="math inline">\(f=y\)</span>. Lo último que habíamos concluído era que:</p>
<p><span class="math display">\[
L(f') = \sqrt{1+(f')^2}
\]</span></p>
<p>Aplicamos la ecuación de Euler-Lagrange y veremos a dónde nos conduce. Lo que hace que el ejemplo sea muy sencillo es que no hay un <span class="math inline">\(f\)</span> explícito en la función, solo un <span class="math inline">\(f'\)</span>, y la fórmula queda muy simple:</p>
<p><span class="math display">\[
\begin{aligned}
\frac{\partial L}{\partial f} -\frac{d}{dx} \frac{\partial L}{\partial f'}&amp;=0\\
- \frac{d}{dx} \ \frac{f'(x)} {\sqrt{1 + [f'(x)]^2}} \ &amp;= 0\\
\end{aligned}
\]</span></p>
<p>Si la derivada es cero, podemos integrar esa expresión y el resultado es una constante (desconocida) <span class="math inline">\(c&lt;1\)</span>. Hacemos un poco de álgebra, integramos al final, y listo:</p>
<p><span class="math display">\[
\begin{aligned}
\frac{f'(x)}{\sqrt{1+[f'(x)]^2}} &amp;= c \\
\frac{[f'(x)]^2}{1+[f'(x)]^2} &amp;= c^2 \\
{[f'(x)]}^2 &amp;= c^2 + c^2{[f'(x)]}^2 \\
{[f'(x)]}^2 &amp;= \frac{c^2}{1-c^2} \\
f'(x) &amp;= \sqrt{\frac{c^2}{1-c^2}} = m \\
f(x) &amp;= mx+b
\end{aligned}
\]</span></p>
<p>La función con el camino más corto entre dos puntos es una linea recta, y lo único necesario para obtener la solución analítica es saber cómo se calcula la distancia entre dos puntos.</p>
<hr>
<div id="refs" class="references csl-bib-body hanging-indent" role="list">
<div id="ref-calculus_of_variations" class="csl-entry" role="listitem">
Wikipedia contributors. 2023. <span>«Calculus of variations — <span>W</span>ikipedia<span>,</span> The Free Encyclopedia»</span>. <a href="https://en.wikipedia.org/wiki/Calculus_of_variations">https://en.wikipedia.org/wiki/Calculus_of_variations</a>.
</div>
</div>
</section></section></section></main><!-- /main --><script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copiado");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copiado");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script><nav class="page-navigation"><div class="nav-page nav-page-previous">
      <a href="./intro.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Introducción</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="./measuretheory.html" class="pagination-link">
        <span class="nav-page-text">Teoría de la Medida</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



<footer class="footer"><div class="nav-footer"><div class="nav-footer-center"><div class="toc-actions">
<div><i class="bi bi-github"></i></div>
<div class="action-links">
<p><a href="https://github.com/mateobengualid/mateobengualid.github.io/edit/main/integrationbyparts.qmd" class="toc-action">Editar esta página</a></p>
<p><a href="https://github.com/mateobengualid/mateobengualid.github.io/issues/new" class="toc-action">Informar de un problema</a></p>
</div>
</div></div></div></footer>
</body>
</html>
